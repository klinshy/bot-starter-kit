(function(t,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.MyBot=e())})(this,function(){"use strict";return{run:async e=>{WA.onInit().then(async()=>{WA.chat.onChatMessage(async(i,a)=>{var s;if(a.author)try{WA.chat.startTyping({scope:"bubble"});const n=await fetch("https://ai.newit.works/api/v1/openai/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer VJD869M-CJC4KMF-JRWJFJD-Z5RNYQJ"},body:JSON.stringify({messages:[{role:"user",content:i}],model:WA.player.name,stream:!1,temperature:1})}).then(r=>r.json()),o=(s=n.choices[0])==null?void 0:s.message.content;if(o==null)throw new Error("Custom AI returned no response: "+JSON.stringify(n));console.log("Custom AI response:",o),WA.chat.sendChatMessage(o,{scope:"bubble"}),WA.chat.stopTyping({scope:"bubble"})}catch(n){console.error(n)}},{scope:"bubble"})}),console.log("COUCOU",e)}}});
